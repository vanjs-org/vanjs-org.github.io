let e,t=Object,n=null,l=(e,t,n,l)=>(e??(setTimeout(n,l),new Set)).add(t);class o{constructor(e){let t=this;t.t=t.l=e,t.o=[],t.i=[]}get val(){return this.t}set val(t){let n=this,o=n.t;t!==o&&(n.l===o?e=l(e,n,i):t===n.l&&e.delete(n),n.t=t,n.i.forEach((e=>e(t,o))))}onnew(e){this.i.push(e)}}export let state=e=>new o(e);let r=e=>e.nodeType?e:new Text(e);export let add=(e,...t)=>t.flat(1/0).forEach((t=>e.appendChild(t instanceof o?bind(t,(e=>e)):r(t))));export let tags=new Proxy(((e,...n)=>{let[l,...r]=n[0]?.constructor===t?n:[{},...n],s=document.createElement(e);return t.entries(l).forEach((([e,n])=>{let l=void 0!==s[e]?t=>s[e]=t:t=>s.setAttribute(e,t);n instanceof o?bind(n,(e=>(l(e),s))):n.constructor===t?bind(...n.deps,((...e)=>(l(n.f(...e)),s))):l(n)})),add(s,...r),s}),{get:(e,t)=>e.bind(n,t)});let s,d=e=>e.o=e.o.filter((e=>e.u?.isConnected)),i=()=>{let t=[...e];e=n,new Set(t.flatMap(d)).forEach((e=>{let{p:t,u:l,h:o}=e,s=o(...t.map((e=>e.t)),l,...t.map((e=>e.l)));s!==l&&(s!==n?l.replaceWith(e.u=r(s)):(l.remove(),e.u=n))})),t.forEach((e=>e.l=e.t))};export let bind=(...e)=>{let t=e.slice(0,-1),o=e[e.length-1],i=o(...t.map((e=>e.t)));if(i===n)return[];let u={p:t,u:r(i),h:o};return t.forEach((e=>{s=l(s,e,(()=>(s.forEach(d),s=n)),1e3),e.o.push(u)})),u.u};