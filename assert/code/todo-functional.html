<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" href="/logo.svg">
    <title>TODO List (Functional/Reactive-Style)</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      a { cursor: pointer; }
    </style>
  </head>
  <body>
    <script type="module">
      import van from "./van-latest.min.js"

      const {a, button, div, input, span, strike} = van.tags

      const TodoItem = ({text}) => {
        const done = van.state(false), deleted = van.state(false)
        return () => deleted.val ? null : div(
          input({type: "checkbox", checked: done, onclick: e => done.val = e.target.checked}),
          () => (done.val ? strike : span)(text),
          a({onclick: () => deleted.val = true}, "❌"),
        )
      }

      const TodoList = () => {
        const inputDom = input({type: "text"})
        const dom = div(
          inputDom,
          button({onclick: () => van.add(dom, TodoItem({text: inputDom.value}))}, "Add"),
        )
        return dom
      }

      van.add(document.body, TodoList())
    </script>
  </body>
</html>
