let t,e=Object.getPrototypeOf,l=e(e),n={get oldVal(){return this.val}},o=e(n),r=t=>({__proto__:n,val:t}),a=t=>e(t??0)===n?t.val:t,d=(t,o)=>{let r=e(o??0);return r===n?o.val:r!==l||t?.startsWith("on")&&!o.t?o:o()},u=(e,...l)=>(e.append(...l.flat(1/0).map(d.bind(t,t)).filter(e=>e!=t)),e),i=t=>{let n=n=>new Proxy((r,...a)=>{let[i,...f]=e(a[0]??0)===o?a:[{},...a],w=n?t.createElementNS(n,r):t.createElement(r);for(let[t,n]of Object.entries(i)){let o=d(t,n);e(o)!==l&&w.setAttribute(t,o)}return u(w,...f)},{get:(t,e)=>t.bind(null,e)}),i=n();return{add:u,_:t=>(t.t=1,t),tags:i,tagsNS:n,state:r,val:a,oldVal:a,derive:t=>r(t()),html:(...t)=>"<!DOCTYPE html>"+i.html(...t).outerHTML}};export default{vanWithDoc:i,...i("undefined"!=typeof window?window.document:null)};